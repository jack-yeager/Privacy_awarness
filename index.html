<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Privacy Awareness by Linear Regression">
    <meta name="keywords" content="HTML, CSS, PyScript, Linear Regression">
    <meta name="author" content="Your Name">
    <title>Privacy Awareness by Linear Regression</title>
    
    <!-- Link to PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>

    <!-- Link to the CSS file -->
    <link rel="stylesheet" href="style.css">

    <!-- Configuration for PyScript to include required packages -->
    <py-config>
        packages = ["matplotlib", "numpy", "ipywidgets"]
    </py-config>
</head>
<body>
    <!-- Navigation bar -->
    <nav class="navbar">
        <div class="container">
            <a href="#" class="brand">Privacy Awareness by Linear Regression</a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#resources">Resources</a></li>
                <li><a href="#contribution">Contribution</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main content section -->
    <section id="home" class="section">
        <div class="container">
            <h1>Upload Dataset</h1>
            <button class="btn" onclick="window.location.href='plot.html';">Upload</button>
        </div>
    </section>

    <!-- About section -->
    <section id="about" class="section">
        <div class="container">
            <h2>About Us</h2>
            <p>The project, Privacy Awareness Using Linear Regression, was developed by Jakadeer V. and Rahul M., undergraduate students of Data Science and Engineering at IIT Palakkad. Guided by Dr. Mrinal Kanti Das, Assistant Professor of the Computer Science and Engineering Department, this work is part of their OELP project, aiming to explore the intersection of privacy and predictive modeling using linear regression techniques.</p>
        </div>
    </section>

    <!-- Resources section -->
    <section id="resources" class="section">
        <div class="container">
            <h2>Our Resources</h2>
            <ul>
                <li>Web Development</li>
                <li>Graphic Design</li>
                <li>SEO Optimization</li>
            </ul>
        </div>
    </section>

    <!-- Contact section -->
    <section id="contribution" class="section">
        <div class="container">
            <h2>Contact Us</h2>
            <form>
                <label for="name">Name</label>
                <input type="text" id="name" name="name" required>

                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>

                <label for="message">Message</label>
                <textarea id="message" name="message" required></textarea>

                <button type="submit">Send Message</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 My Website. All Rights Reserved.</p>
        </div>
    </footer>
    
    <!-- Include Python script -->
    <py-script>
        import matplotlib.pyplot as plt
        import numpy as np
        from ipywidgets import interact, widgets

        # Example data and functions (Replace these with your actual implementation)
        X_test = np.linspace(0, 10, 100)
        y_test = 3 * X_test + 5 + np.random.normal(0, 3, size=X_test.shape)
        y_pred_olsr = 3 * X_test + 5
        X_test_b = np.c_[np.ones((100, 1)), X_test]  # Add bias term
        theta_ols = np.array([5, 3])  # Example OLS parameters

        # Placeholder for Laplace mechanism function
        def laplace_mechanism(theta, sensitivity, epsilon):
            noise = np.random.laplace(0, sensitivity / epsilon, size=theta.shape)
            return theta + noise

        # Placeholder for Gaussian noise function
        delta = 1e-5
        sensitivity = 1
        def add_gaussian_noise(theta, epsilon, delta, sensitivity):
            sigma = sensitivity * np.sqrt(2 * np.log(1.25 / delta)) / epsilon
            noise = np.random.normal(0, sigma, size=theta.shape)
            return theta + noise

        # Unified function for updating the plot based on noise type and epsilon
        def update_plot(noise_type, epsilon):
            if noise_type == 'Laplace':
                y_vary_noise = X_test_b.dot(laplace_mechanism(theta_ols, 1, epsilon))
                noise_label = 'with Laplace noise'
            elif noise_type == 'Gaussian':
                y_vary_noise = X_test_b.dot(add_gaussian_noise(theta_ols, epsilon, delta, sensitivity))
                noise_label = 'with Gaussian noise'

            # Create the plot
            plt.figure(figsize=(8, 6))
            plt.plot(X_test, y_vary_noise, label=noise_label)
            plt.scatter(X_test, y_test, color='red', label='Test Data')
            plt.plot(X_test, y_pred_olsr, label='without noise', color='yellow')
            plt.title(f'Effect of Epsilon={epsilon} with {noise_type} noise')
            plt.legend()
            plt.show()

        # Create an interactive plot with a dropdown to select noise type and a slider for epsilon
        interact(update_plot,
                 noise_type=widgets.Dropdown(options=['Laplace', 'Gaussian'], value='Laplace', description='Noise Type:'),
                 epsilon=widgets.FloatSlider(value=1, min=0.01, max=20, step=0.01, description='Epsilon:'));
    </py-script>
</body>
</html>
